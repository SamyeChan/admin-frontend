# 现负责项目中的校验归纳（输入框类）

本文档旨在对已开发项目中的表单校验规则进行不完全式归纳，为后续前端的校验规则封装提供部分参考；

涉及项目：Ark、商品库、云价控、触店；

最后更新时间：2020-11-23

---

另，以下为下述表格中出现的符号含义解释：

| 符号 | 含义     |
| ---- | -------- |
| v    | yes      |
| x    | no       |
| /    | 暂无规则 |
| -    | 非输入项 |

## 01 Ark

### 公司管理 > 详情表单

| 字段     | 必填 | 规则                                          |
| -------- | ---- | --------------------------------------------- |
| 公司名称 | v    | 01. “公司”结尾； 02. 中+英+数； 03. 2-20 位； |
| 法人代表 | v    | 中文姓名                                      |
| 联系方式 | v    | 01. 手机； 02. 固话；                         |

### 门店管理 > 详情表单

| 字段         | 必填 | 规则                         |
| ------------ | ---- | ---------------------------- |
| 门店名称     | v    | 01. 中+英+数； 02. 2-20 位； |
| 网点编码     | v    | /                            |
| 线上店铺 ID  | v    | 01. 数字； 02. 限定 10 位；  |
| 门店负责人   | v    | 中文姓名                     |
| 门店联系方式 | v    | 01. 手机； 02. 固话；        |
| 建店时间     | v    | -                            |
| 门店地址     | v    | -                            |
| 是否临街     | v    | -                            |
| 门店类型     | v    | -                            |
| 店面性质     | v    | -                            |
| 租金         | x    | 正整数；                     |
| 最近一次装修 | v    | -                            |
| 营业时间     | v    | 中+英+数+(:);-               |
| 门店简介     | v    | 15-1000 位长文本             |
| 正面照片     | v    | -                            |
| 侧面照片     | v    | -                            |

### 商品管理

#### 详情表单

| 字段          | 必填 | 规则                          |
| ------------- | ---- | ----------------------------- |
| 商品标题      | v    | 1~250 位                      |
| 广告语        | v    | 15-600 位长文本               |
| 产品视频      | x    | /                             |
| 指导价        | v    | 01. 正整数； 02. 1-99999 位； |
| 调价策略      | v    | -                             |
| 属性/规格参数 | v    | -                             |
| 商品图片      | v    | -                             |
| 商详图片      | v    | -                             |

#### 属性维护

| 字段   | 规则 |
| ------ | ---- |
| 属性名 | /    |
| 属性值 | /    |

### 设备管理

#### 详情表单

| 字段                 | 必填 | 规则                            |
| -------------------- | ---- | ------------------------------- |
| 设备名称             | v    | 01. 中+英+数； 02. 2-20 位；    |
| 型号                 | v    | /                               |
| 唯一标识             | v    | /                               |
| 设备分类             | v    | -                               |
| 厂商名称             | v    | 01. 中+英+数； 02. 2-20 位；    |
| 厂商统一社会信用代码 | v    | 统一社会信用代码（18 位+15 位） |
| 售后服务             | v    | 01. 手机； 02. 固话；           |
| 保修期               | v    | 正整数                          |
| Webhook              | x    | webhook 地址格式（\*）          |
| 用途简介             | v    | 15-100 位长文本                 |
| 正面照片             | v    | -                               |
| 侧面照片             | v    | -                               |

#### 分类维护

| 字段     | 规则                         |
| -------- | ---------------------------- |
| 类别名称 | 01. 中+英+数； 02. 1-20 位； |

## 02 商品库

| 字段       | 必填 | 规则                          |
| ---------- | ---- | ----------------------------- |
| 商品名称   | v    | 0-255 位                      |
| 电商 url   | v    | 电商 url 特殊格式校验         |
| 门店 spuId | v    | 0-20 位                       |
| 门店 skuId | v    | 0-20 位                       |
| 门店售价   | v    | 01. 正整数； 02. 1-99999 位； |

## 03 云价控

注：云价控暂无输入校验；

| 字段 | 必填 | 规则 |
| ---- | ---- | ---- |
|      |      |      |

## 04 触店

### 专题管理

| 字段       | 必填 | 规则    |
| ---------- | ---- | ------- |
| 专题标题   | v    | 1-30 位 |
| 专题活动图 | v    | -       |
| 页面配色   | v    | -       |
| 关联商品   | v    | -       |
| 开始时间   | v    | -       |
| 结束时间   | v    | -       |

### 页面设置 > 好物志

| 字段       | 必填 | 规则                                                                                             |
| ---------- | ---- | ------------------------------------------------------------------------------------------------ |
| 模块类型   | v    | -                                                                                                |
| 专题名称   | v    | 01. 中+英+数； 02. 2-20 位；                                                                     |
| 关联专题   | v    | 情况 1：若专题为文章专题，则进行微信公众号外链校验；<br>情况 2：若专题为普通专题，则无特殊校验； |
| 专辑封面图 | v    | -                                                                                                |
| 标签名称   | v    | 01. 中文；02.8 位以内；                                                                          |
| 关联商品   | v    | - （至少选择 3 个关联商品）；                                                                    |

### 活动管理 > 活动详情

| 字段         | 必填 | 规则                                 |
| ------------ | ---- | ------------------------------------ |
| 活动标题     | v    | 01. 中+英+数； 02. 30 位以内；       |
| 活动规则     | v    | 15-1000 位长文本；                   |
| 活动开始时间 | v    | -                                    |
| 活动结束时间 | v    | -                                    |
| 奖品名称     | v    | 01. 中+英+数； 02. 30 位以内；       |
| 奖品图       | v    | -                                    |
| 中奖名额     | v    | 正整数（使用计数器组件）；           |
| 中奖概率     | v    | 特殊规则：根据已设置项进行计算更新； |

TODO：除开表单的输入校验，是否还需考虑搜索框的特殊校验？
